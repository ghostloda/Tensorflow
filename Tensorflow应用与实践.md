前言
====

Tensorflow分为CPU、GPU版本。官方推荐使用Ubuntu

Tensorflow暴露出来的两个弱点：

1.  性能评测中比caffe等慢；

2.  中间状态的值不可传递给外部。

Python 2/3 Change
-----------------

1.  tf.mul tf.sub tf.neg 已经废弃

分别可用tf.multiply tf.subtract tf.negative替代.

1.  xrange

报错：

NameError:name ‘xrange’ is not defined

解决：

在Python 3中，range()与xrange()合并为range( )。

1.  print函数

（Python3中print为一个函数，必须用括号括起来；Python2中print为class）

1.  Input

通过input()解析用户的输入：（Python3中input得到的为str；Python2的input的到的为int型，Python2的raw_input得到的为str类型）统一一下：Python3中用input，Python2中用row_input，都输入为str

1.  整除

(没有太大影响)（Python3中/表示真除，%表示取余，//表示地板除（结果取整）；Python2中/表示根据除数被除数小数点位得到结果，//同样表示地板除）统一一下：Python3中/表示真除，%表示取余，//结果取整；Python2中带上小数点/表示真除，%表示取余，//结果取整

1.  字符串存储

原: 字符串以 8-bit 字符串存储

改为: 字符串以 16-bit Unicode 字符串存储

1.  try except 语句的变化

原: try:

......

except Exception, e :

......

改为

try:

......

except Exception as e :

......

1.  打开文件

原： file( ..... )

或 open(.....)

改为：

只能用 open(.....)

1.  从键盘录入一个字符串

原: raw_input( "提示信息" )

改为: input( "提示信息" )

1.  bytes 数据类型

A bytes object is an immutable array. The items are 8-bit bytes, represented by
integers in the range 0 \<= x \< 256.

bytes 可以看成是“字节数组”对象，每个元素是 8-bit 的字节，取值范围 0\~255。

由于在 python 3.0中字符串以 unicode
编码存储，当写入二进制文件时，字符串无法直接写入（或读取），必须以某种方式的编码为字节序列后，方可写入。

1.  Python3中可以用中文名做变量名称.

部署
====

pip 安装
--------

Tensorflow 1.8下载

<https://pypi.org/project/tensorflow/#files>

安装Ubuntu 16.04 desktop

开启远程管理：

\$ sudo apt install –y openssh-server

\$ systemctl status ssh

修改服务器ip地址之后，执行：

\$ sudo ifconfig ens160 down

\$ sudo ifconfig ens160 up

\$ ifconfig

SecureCRT连接Ubuntu，更新下系统：

\$ sudo apt update

\$ sudo apt upgrade –y

安装pip

\$ sudo apt-get install python-pip python-dev

tensorflow\@tensorflow-vm:\~\$ pip -V

pip 8.1.1 from /usr/lib/python2.7/dist-packages (python 2.7)

升级pip：

tensorflow\@tensorflow-vm:\~\$ sudo pip -V

pip 8.1.1 from /usr/local/lib/python2.7/dist-packages/pip (python 2.7)

tensorflow\@tensorflow-vm:\~\$ sudo pip install --upgrade pip

tensorflow\@tensorflow-vm:\~\$ sudo pip -V

pip 10.0.1 from /usr/local/lib/python2.7/dist-packages/pip (python 2.7)

Pip升级之后，运行pip：

ImportError: cannot import name main

修改pip文件

tensorflow\@tfvm:/usr/bin\$ cat pip

\#!/usr/bin/python

\# GENERATED BY DEBIAN

import sys

\# Run the main entry point, similarly to how setuptools does it, but because

\# we didn't install the actual entry point from setup.py, don't use the

\# pkg_resources API.

from pip import \__main_\_

if \__name_\_ == '__main__':

sys.exit(__main__._main())

第二种改法：

\# -\*- coding: utf-8 -\*-

import re

import sys

from pip._internal import main as \_main

if \__name_\_ == '__main__':

　　sys.argv[0] = re.sub(r'(-script\\.pyw?\|\\.exe)?\$', '', sys.argv[0])

　　sys.exit(_main())

sudo pip install --upgrade
https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.8.0-cp27-none-linux_x86_64.whl

安装tensorflow（CPU）

tensorflow\@tensorflow-vm:\~\$ sudo pip install --upgrade
https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.8.0-cp27-none-linux_x86_64.whl

安装过程中，一并安装了：wheel、protobuf、six、numpy、setuptools

\$ pip install jupyter

\$ jupyter notebook

\$ jupyter notebook –ip=192.168.100.66

\$ jupyter notebook –ip=192.168.100.66 –allow-root

\$ jupyter notebook list

<http://192.168.100.66:8888>

容器部署
--------

Github地址：

<https://github.com/tensorflow/tensorflow/tree/master/tensorflow/tools/docker>

TensorFlowCPUImage标识了Docker容器。 指定下列值之一：

-   gcr.io/tensorflow/tensorflow，这是TensorFlow CPU binary image。

-   gcr.io/tensorflow/tensorflow:latest-devel，这是最新的TensorFlow
    CPU二进制镜像加源代码。

-   gcr.io/tensorflow/tensorflow:version，它是TensorFlow
    CPU二进制镜像的指定版本（例如，1.1.0rc1）。

-   gcr.io/tensorflow/tensorflow:version-devel，它是TensorFlow
    GPU二进制镜像的源代码的指定版本（例如，1.1.0rc1）。

We currently maintain two Docker container images:

-   tensorflow/tensorflow - TensorFlow with all dependencies - CPU only!

-   tensorflow/tensorflow:latest-gpu - TensorFlow with all dependencies and
    support for NVidia CUDA

Note: We store all our containers on Docker Hub.

[root\@Docker-GP \~]\# docker search tensor --no-trunc

INDEX NAME DESCRIPTION STARS OFFICIAL AUTOMATED

docker.io docker.io/tensorflow/tensorflow Official docker images for deep
learning framework TensorFlow (http://www.tensorflow.org) 928

docker.io docker.io/jupyter/tensorflow-notebook Jupyter Notebook Scientific
Python Stack w/ Tensorflow from https://github.com/jupyter/docker-stacks 66

docker.io docker.io/xblaster/tensorflow-jupyter Dockerized Jupyter with
tensorflow 50 [OK]

docker.io docker.io/romilly/rpi-docker-tensorflow Tensorflow and Jupyter running
in docker container on Raspberry Pi 3B 18

docker.io docker.io/bitnami/tensorflow-serving Bitnami Docker Image for
TensorFlow Serving 10 [OK]

docker.io docker.io/floydhub/tensorflow tensorflow 10 [OK]

docker.io docker.io/tensorflow/tf_grpc_server Server for TensorFlow GRPC
Distributed Runtime 6

docker.io docker.io/opensciencegrid/tensorflow-gpu TensorFlow GPU set up for OSG
4

docker.io docker.io/tensorflow/tf_grpc_test_server Testing server for GRPC-based
distributed runtime in TensorFlow 3

docker.io docker.io/eboraas/tensorflow TensorFlow with Jupyter Notebook,
including CPU optimizations 2 [OK]

docker.io docker.io/hytssk/tensorflow tensorflow image with
matplotlib.pyplot.imshow() enabled. 2 [OK]

docker.io docker.io/abhishek404/tensorflow-gpu Tensorflow GPU image 1

docker.io docker.io/bitnami/tensorflow-inception Bitnami Docker Image for
TensorFlow Inception 1 [OK]

docker.io docker.io/chaneyk/tensorflow Tensorflow Releases with GPU Support 1

docker.io docker.io/mikebirdgeneau/r-tensorflow RStudio and Tensorflow 1 [OK]

docker.io docker.io/tensorlayer/tensorlayer
https://github.com/tensorlayer/tensorlayer 1

docker.io docker.io/andreleoni/cnn-tensorflow Container for convlutional network
with Python 3.6 + Tensorflow 0

docker.io docker.io/aretelabs/tensorflow 0

docker.io docker.io/davidchiu/tensorflow09 tensorflow09 with GPU support 0

docker.io docker.io/djpetti/rpinets-tensorflow Tensorflow container that is
ready to be used with RPINets. 0 [OK]

docker.io docker.io/fluxcapacitor/prediction-tensorflow 0

docker.io docker.io/mediadesignpractices/tensorflow Tensorflow w/ CUDA (GPU) +
extras 0 [OK]

docker.io docker.io/opensciencegrid/tensorflow TensorFlow image with some OSG
additions 0 [root\@Docker-GP \~]\# docker pull docker.io/tensorflow/tensorflow

Using default tag: latest

Trying to pull repository docker.io/tensorflow/tensorflow ...

latest: Pulling from docker.io/tensorflow/tensorflow

297061f60c36: Pull complete

e9ccef17b516: Pull complete

dbc33716854d: Pull complete

8fe36b178d25: Pull complete

686596545a94: Pull complete

ed66f2c5f3d9: Pull complete

8405b6c3f141: Pull complete

070615ca3a03: Pull complete

306ac2321f8e: Pull complete

c30111bc1e74: Pull complete

7aa552c3f7f7: Pull complete

4db41af3662a: Pull complete

bf5fbadacf01: Pull complete

Digest: sha256:1cc84937252fcc6e8521901cbbe180c7a93300792aceb0da8a53a5728360320a

Status: Downloaded newer image for docker.io/tensorflow/tensorflow:latest

Running the container

Run non-GPU container using

>   \$ docker run -it -p 8888:8888 tensorflow/tensorflow

For GPU support install NVidia drivers (ideally latest) and nvidia-docker. Run
using

>   \$ nvidia-docker run -it -p 8888:8888 tensorflow/tensorflow:latest-gpu

Note: If you would have a problem running nvidia-docker you may try the old
method we have used. But it is not recommended. If you find a bug in
nvidia-docker, please report it there and try using nvidia-docker as described
above.

>   \$ \# The old, not recommended way to run docker with gpu support:

>   \$ export CUDA_SO=\$(\\ls /usr/lib/x86_64-linux-gnu/libcuda.\* \| xargs -I{}
>   echo '-v {}:{}')

>   \$ export DEVICES=\$(\\ls /dev/nvidia\* \| xargs -I{} echo '--device {}:{}')

>   \$ docker run -it -p 8888:8888 \$CUDA_SO \$DEVICES
>   tensorflow/tensorflow:latest-gpu

[root\@Docker-GP \~]\# docker run -it -p 8888:8888 tensorflow/tensorflow

[I 03:23:53.508 NotebookApp] Writing notebook server cookie secret to
/root/.local/share/jupyter/runtime/notebook_cookie_secret

[W 03:23:53.528 NotebookApp] WARNING: The notebook server is listening on all IP
addresses and not using encryption. This is not recommended.

[I 03:23:53.537 NotebookApp] Serving notebooks from local directory: /notebooks

[I 03:23:53.537 NotebookApp] 0 active kernels

[I 03:23:53.537 NotebookApp] The Jupyter Notebook is running at:

[I 03:23:53.537 NotebookApp] http://[all ip addresses on your
system]:8888/?token=03e16d7d42944430a08789307676035f3e0661c9033f43d0

[I 03:23:53.537 NotebookApp] Use Control-C to stop this server and shut down all
kernels (twice to skip confirmation).

[C 03:23:53.538 NotebookApp]

Copy/paste this URL into your browser when you connect for the first time,

to login with a token:

http://localhost:8888/?token=03e16d7d42944430a08789307676035f3e0661c9033f43d0

![](media/9ab23b7083f16093e05c09072ac4c2bf.png)

![](media/37d9129fbe159617c78be7c43433d273.png)

环境被简化了，看看隔壁老王的jupyter：

![](media/a1205d79ce88bc1a0e50b66ad48f4c62.png)

![](media/12f3018af90e81a36fa36c6f0a061186.png)

import numpy as np

import matplotlib.pyplot as plt

\# evenly sampled time at 200ms intervals

t = np.arange(0., 5., 0.2)

\# red dashes, blue squares and green triangles

plt.plot(t, t, 'r--', t, t\*\*2, 'bs', t, t\*\*3, 'g\^')

plt.show()

![](media/34a657b4d63cd5b2dee93ae0a1b3dfcd.png)

![](media/eb137ca62bc6c029fa8917469d8ab368.png)

import numpy as np

import matplotlib.pyplot as plt

from mpl_toolkits.mplot3d import Axes3D

fig=plt.figure()

ax=Axes3D(fig)

x=np.arange(-5,5,0.25)

y=np.arange(-5,5,0.25)

x,y=np.meshgrid(x,y)

r=np.sqrt(x\*\*2+y\*\*2)

z=np.sin(r)

\#高度

ax.plot_surface(x,y,z,rstride=1,cstride=1,cmap=plt.get_cmap('rainbow'))

\#填充rainbow颜色

ax.contourf(x,y,z,zdir='z',offset=-2,cmap='rainbow')

\#绘制3D图形,zdir表示从哪个坐标轴上压下去

plt.show()

\#显示图片

打开一个Terminal：

![](media/28aa0c68cfb3ad1b354e403702166602.png)

\# python

Python 2.7.12 (default, Dec 4 2017, 14:50:18)

[GCC 5.4.0 20160609] on linux2

Type "help", "copyright", "credits" or "license" for more information.

\>\>\> import tensorflow as tf

/usr/local/lib/python2.7/dist-packages/h5py/__init__.py:36: FutureWarning:
Conversion of the second argument of issubdtype from \`float\` to
\`np.floating\` is deprecated. In future, it will be treated as \`np.float64 ==
np.dtype(float).type\`.

from ._conv import register_converters as \_register_converters

\>\>\> hello= tf.constant('Hello, TensorFlow!')

\>\>\> sess =tf.Session()

\>\>\> print sess.run(hello)

Hello, TensorFlow!

\>\>\> a=tf.constant(10)

\>\>\> b=tf.constant(32)

\>\>\> print sess.run(a+b)

42

\>\>\>

[root\@Docker-GP \~]\# docker ps -a

[root\@Docker-GP \~]\# docker image ls

[root\@Docker-GP \~]\# docker start f8a59e6eb3e3

[root\@Docker-GP \~]\# docker stop f8a59e6eb3e3

[root\@Docker-GP \~]\# docker rm f8a59e6eb3e3

Tensorflow生成散点图测试：

![](media/3a870ca4b609d1efe08ebc7423a1d95c.png)

import tensorflow as tf

import numpy as np

import matplotlib.pyplot as plt

\#表示直接在浏览器中显示matplotlib图表

%matplotlib inline

a = tf.random_normal([2,20]) \#定义2x20的随机数矩阵

sess = tf.Session() \#启动一个tensorflow会话

out = sess.run(a) \# 用在sess会话里执行a，结果放out里

x, y = out

plt.scatter(x, y) \#用pyplot创建一系列散列点，坐标为x和y

plt.show()

基于 VirtualEnv 的安装
----------------------

基于 Anaconda 的安装
--------------------

Anaconda 是一个集成许多第三方科学计算库的 Python 科学计算环境,Anaconda 使用
conda 作为自己的包管理工具,同时具有自己的计算环境,类似 Virtualenv.

和 Virtualenv 一样,不同 Python 工程需要的依赖包,conda 将他们存储在不同的地方。
TensorFlow 上安装的 Anaconda 不会对之前安装的 Python 包进行覆盖.

-   安装 Anaconda

-   建立一个 conda 计算环境

-   激活环境,使用 conda 安装 TensorFlow

-   安装成功后,每次使用 TensorFlow 的时候需要激活 conda 环境

ANACONDA下载

<https://www.anaconda.com/download/>

python第一步——Annaconda基础使用及pycharm、spyder

<https://blog.csdn.net/u013818990/article/details/79329319#%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AApython%E7%8E%AF%E5%A2%83>

创建python 3.6测试环境：

tensor\@tfvm:\~\$ conda create --name test_py3 python=3.6

Solving environment: done

\#\# Package Plan \#\#

environment location: /opt/anaconda2/envs/test_py3

added / updated specs:

\- python=3.6

The following packages will be downloaded:

package \| build

\---------------------------\|-----------------

ca-certificates-2018.03.07 \| 0 124 KB

setuptools-39.2.0 \| py36_0 551 KB

python-3.6.5 \| hc3d631a_2 29.4 MB

pip-10.0.1 \| py36_0 1.8 MB

sqlite-3.24.0 \| h84994c4_0 1.8 MB

wheel-0.31.1 \| py36_0 62 KB

certifi-2018.4.16 \| py36_0 142 KB

\------------------------------------------------------------

Total: 33.8 MB

The following NEW packages will be INSTALLED:

ca-certificates: 2018.03.07-0

certifi: 2018.4.16-py36_0

libedit: 3.1.20170329-h6b74fdf_2

libffi: 3.2.1-hd88cf55_4

libgcc-ng: 7.2.0-hdf63c60_3

libstdcxx-ng: 7.2.0-hdf63c60_3

ncurses: 6.1-hf484d3e_0

openssl: 1.0.2o-h20670df_0

pip: 10.0.1-py36_0

python: 3.6.5-hc3d631a_2

readline: 7.0-ha6073c6_4

setuptools: 39.2.0-py36_0

sqlite: 3.24.0-h84994c4_0

tk: 8.6.7-hc745277_3

wheel: 0.31.1-py36_0

xz: 5.2.4-h14c3975_4

zlib: 1.2.11-ha838bed_2

Downloading and Extracting Packages

ca-certificates-2018 \| 124 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \|
100%

setuptools-39.2.0 \| 551 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

python-3.6.5 \| 29.4 MB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

pip-10.0.1 \| 1.8 MB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

sqlite-3.24.0 \| 1.8 MB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

wheel-0.31.1 \| 62 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

certifi-2018.4.16 \| 142 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \|
100%

Preparing transaction: done

Verifying transaction: done

Executing transaction: done

\#

\# To activate this environment, use:

\# \> source activate test_py3

\#

\# To deactivate an active environment, use:

\# \> source deactivate

\#

【Windows下使用没有source，譬如：\$ activate test_py3、\$ deactivate】

创建python 2.7测试环境：

tensor\@tfvm:\~\$ conda create --name test_py2 python=2.7

Solving environment: done

\#\# Package Plan \#\#

environment location: /opt/anaconda2/envs/test_py2

added / updated specs:

\- python=2.7

The following packages will be downloaded:

package \| build

\---------------------------\|-----------------

certifi-2018.4.16 \| py27_0 142 KB

setuptools-39.2.0 \| py27_0 583 KB

\------------------------------------------------------------

Total: 726 KB

The following NEW packages will be INSTALLED:

ca-certificates: 2018.03.07-0

certifi: 2018.4.16-py27_0

libedit: 3.1.20170329-h6b74fdf_2

libffi: 3.2.1-hd88cf55_4

libgcc-ng: 7.2.0-hdf63c60_3

libstdcxx-ng: 7.2.0-hdf63c60_3

ncurses: 6.1-hf484d3e_0

openssl: 1.0.2o-h20670df_0

pip: 10.0.1-py27_0

python: 2.7.15-h1571d57_0

readline: 7.0-ha6073c6_4

setuptools: 39.2.0-py27_0

sqlite: 3.24.0-h84994c4_0

tk: 8.6.7-hc745277_3

wheel: 0.31.1-py27_0

zlib: 1.2.11-ha838bed_2

Proceed ([y]/n)? y

Downloading and Extracting Packages

certifi-2018.4.16 \| 142 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \|
100%

setuptools-39.2.0 \| 583 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

Preparing transaction: done

Verifying transaction: done

Executing transaction: done

\#

\# To activate this environment, use:

\# \> source activate test_py2

\#

\# To deactivate an active environment, use:

\# \> source deactivate

\#

【Windows下使用没有source，譬如：\$ activate test_py3、\$ deactivate】

INTEL DIGITS
------------

英特尔® 深度学习 SDK 教程：安装指南:

<https://software.intel.com/zh-cn/articles/intel-deep-learning-sdk-tutorial>

英特尔® 深度学习 SDK 教程：英特尔® 深度学习 SDK 训练工具入门指南

<https://software.intel.com/zh-cn/articles/intel-deep-learning-sdk-tutorial-getting-started-with-intel-deep-learning-sdk-training-tool>

基本使用
========

Command Line
------------

测试：

tensorflow\@tensorflow-vm:\~\$ python

Python 2.7.12 (default, Dec 4 2017, 14:50:18)

[GCC 5.4.0 20160609] on linux2

Type "help", "copyright", "credits" or "license" for more information.

\>\>\> import tensorflow as tf

\>\>\> hello=tf.constant('Hello, TensorFlow!')

\>\>\> sess=tf.Session()

\>\>\> print sess.run(hello)

Hello, TensorFlow!

\>\>\> a=tf.constant(10)

\>\>\> b= tf.constant(32)

\>\>\> print sess.run(a+b)

42

\>\>\> matrix1=tf.constant([[3.,3.]])

\>\>\> matrix2=tf.constant([[2.],[2.]])

\>\>\> product=tf.matmul(matrix1,matrix2)

\>\>\> sess=tf.Session()

【大小写敏感】

\>\>\> result=sess.run(product)

\>\>\> print result

[[12.]]

\>\>\> sess.close()

\>\>\> with tf.Session() as sess:

... result=sess.run([product])

... print result

...

【回车两次】

[array([[12.]], dtype=float32)]

\>\>\>

![](media/d84a4fcb5ad9f2bb240978fd2d18dcc0.png)

同型矩阵才能相加，两个m\*n的矩阵的结果是m\*n的矩阵。

矩阵的加法同理就好理解了。

![](media/24807777f1532b91930e009464f586e6.png)

矩阵线性代数教材上的各种定义都太过复杂了。尝试一个浅显的解释：

小明今天要做饭，消耗2斤肉，1斤蔬菜。肉每斤20元，蔬菜每斤5元，则一共需多少花费？  
这个问题的答案很简单：

![https://pic1.zhimg.com/50/0443f0bc0fdafcdb8ae96a032b146a64_hd.jpg](media/41c6b07f8b882c9ebee5b7541ef1b19c.jpg)

我们用向量相乘的方法写出来：

![https://pic3.zhimg.com/50/efebac21d4640086c3d68235857e72f7_hd.jpg](media/0f4a2a49c72a95ee221e3a87d7393cab.jpg)

如果小明第二天有另一种做饭的方法，需要消耗1斤肉，4斤蔬菜，那么这两种方法的花费各是多少呢？我们显然需要另算这第二种方法的花费。把这个做饭方式写在第二个矩阵（向量是宽度或长度为1的矩阵）里：

![https://pic4.zhimg.com/50/c6267d0474760b9c2ab63d412e47587e_hd.jpg](media/709dfcf486da0e2e0130f5c1bb935ac8.jpg)

小明家附近还有另一个菜市场，那里肉每斤15元，蔬菜每斤10元。那么，小明如果去这个菜市场，花费又是多少呢（分别计算上述两种做饭方式）？我们把这另外的一种价格写进第一个矩阵里：

![https://pic2.zhimg.com/50/0ea3c31062757a3f388fa63a1a9ed1b6_hd.jpg](media/0f42d5a6d45558f227b5beee4ed1ff91.jpg)

这样我们看到了一个矩阵乘法的例子。在左边的这个矩阵的每一行，都代表了一种价目表；在右边的矩阵的每一列，都代表了一种做饭方式。那么所有可能的组合所最终产生的花费，则在结果矩阵中表示出来了。

小明有一天成为了餐厅大厨，小红做掌柜兼管算账。我们假设物价不变。小红发现，如果今天买10斤肉花了A元，明天买20斤肉就得花2A元。如果买一斤肉要花C元，买1斤菜要花D元，那么买一斤肉和一斤菜就要花(C+D)元。每天小明汇报今日的材料消耗之后，小红便会将材料消耗转为需要花的钱数。如果材料消耗翻倍，花的钱数也翻倍。另外，如果去不同的菜市场，也会得到不同的花钱数量。

小明每月送来一张长列表，里面是每日的材料消耗；而经过小红的处理，这张列表会转为每日，在不同的菜市场购买这些材料的花费。材料消耗翻倍，花费也翻倍。我们管这种从材料列表转为开销表的过程，就叫做一个线性映射。这也即是矩阵乘法的意义。

![](media/4632b4d4fc63cef4d650cd46e7bb2ccd.png)

结果是m\*n的矩阵

![](media/b244d6dd740153d9a9a304eccb80eff3.png)

![](media/ce662e835ce3853abdeb98497cf980e3.png)

矩阵的加法：

Spyder
------

Python 2,Anaconda 2,spyder 2

Python 3,Anaconda 3,spyder 3

Ubuntu 16.04 desktop python 2安装spyder

tensorflow\@tfvm:/usr/bin\$ sudo apt install spyder

tensorflow\@tfvm:/usr/bin\$ spyder

Spyder: cannot connect to X server

【需要X Windows支持】

tensorflow\@tfvm:/usr/bin\$ spyder

![](media/fe7d4a844c27e2a895bfde2395751609.png)

![](media/e1bc23f4dce45b5be6133bf74d731952.png)

Anaconda3自带spyder

tensorflow\@tensorflow-vm:\~\$ which spyder

/home/tensorflow/anaconda3/bin/spyder

\$ sudo apt install –y spyder3

启动：

\$ spyder3

Jupyter notebook
----------------

Jupyter啥东东？涨姿势的桀纣。

快速入门参考：

<https://www.cnblogs.com/nxld/p/6566380.html>

Jupyter是软件（开发环境）套装。

Jupyter Notebook（此前被称为 IPython notebook）是一个交互式笔记本，支持运行 40
多种编程语言。

Jupyter Notebook 的本质是一个 Web
应用程序，便于创建和共享文学化程序文档，支持实时代码，数学方程，可视化和
markdown。 用途包括：数据清理和转换，数值模拟，统计建模，机器学习等等。

数据挖掘领域中最热门的比赛 Kaggle 里的资料都是Jupyter 格式 。

tensorflow\@tfvm:/usr/bin\$ sudo pip install jupyter

通过Anaconda安装Jupyter notebook
--------------------------------

通过套件anaconda使用jupyter notebook，进而调用python 2
的tensorflow能保持与操作系统的python 2保持相对的独立性。

在此处下载：

<https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/>

<https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/Miniconda2-4.5.4-Linux-x86_64.sh>

tensorflow\@tfvm:\~chmod +x Miniconda2-4.5.4-Linux-x86_64.sh

tensorflow\@tfvm:\~./ Miniconda2-4.5.4-Linux-x86_64.sh

【建议还是现在全版的Anaconda】

如果在安装过程中没有选择将Anaconda的目录加入的PATH中，需要手工添加：

tensorflow\@tfvm:\~/anaconda2/bin\$ export
PATH=/home/tensorflow/anaconda2/bin:\$PATH

anaconda2使用自己的python 2，所以在annaconda2中需要安装自身的tensorflow。

查询安装信息

\$ conda info

tensorflow\@tfvm:\~\$ conda info

Current conda install:

platform : linux-64

conda version : 4.3.30

conda is private : False

conda-env version : 4.3.30

conda-build version : 3.10.5

python version : 2.7.15.final.0

requests version : 2.18.4

root environment : /home/tensorflow/anaconda2 (writable)

default environment : /home/tensorflow/anaconda2

envs directories : /home/tensorflow/anaconda2/envs

/home/tensorflow/.conda/envs

package cache : /home/tensorflow/anaconda2/pkgs

/home/tensorflow/.conda/pkgs

channel URLs : https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/linux-64

https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/noarch

https://repo.continuum.io/pkgs/main/linux-64

https://repo.continuum.io/pkgs/main/noarch

https://repo.continuum.io/pkgs/free/linux-64

https://repo.continuum.io/pkgs/free/noarch

https://repo.continuum.io/pkgs/r/linux-64

https://repo.continuum.io/pkgs/r/noarch

https://repo.continuum.io/pkgs/pro/linux-64

https://repo.continuum.io/pkgs/pro/noarch

config file : /home/tensorflow/.condarc

netrc file : None

offline mode : False

user-agent : conda/4.3.30 requests/2.18.4 CPython/2.7.15 Linux/4.13.0-45-generic
debian/stretch/sid glibc/2.23

UID:GID : 1000:1000

查询当前已经安装的库

\$ conda list

安装库(\*\*\*代表库名称）

\$ conda install \*\*\*

更新库

\$ conda update \*\*\*

Anaconda仓库镜像

官方下载更新工具包的速度很慢，所以继续添加清华大学
TUNA提供的Anaconda仓库镜像，在终端或cmd中输入如下命令进行添加

\$ conda config --add channels
https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/

\$ conda config --set show_channel_urls yes

\$ conda install numpy \#测试是否添加成功

之后会自动在用户根目录生成“.condarc”文件，Ubuntu环境下路径为\~/.condarc，Windows环境下路径为C:\\用户\\your_user_name\\.condarc

channels:

\- https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/

\- defaults

show_channel_urls: yes

如果要删除镜像，直接删除“.condarc”文件即可

tensorflow\@tfvm:\~/anaconda2/bin\$ anaconda search -t conda tensorflow

Using Anaconda API: https://api.anaconda.org

Packages:

Name \| Version \| Package Types \| Platforms \| Builds

\------------------------- \| ------ \| --------------- \| --------------- \|
----------

GlaxoSmithKline/tensorflow \| 0.12.0 \| conda \| linux-64 \| py27hb0d0e74_0

: TensorFlow is a machine learning library

HCC/tensorflow \| 1.7.0 \| conda \| linux-64 \| py34_1, py27_1, py27_0, py36_0,
np113py35_0, np113py27_0, np113py36_0, py35_0, py35_1

: Computation using data flow graphs for scalable machine learning.

Run 'anaconda show \<USER/PACKAGE\>' to get installation details

tensorflow\@tfvm:\~/anaconda2/bin\$ anaconda show HCC/tensorflow

Using Anaconda API: https://api.anaconda.org

Name: tensorflow

Summary: Computation using data flow graphs for scalable machine learning.

Access: public

Package Types: conda

Versions:

\+ 0.12.1

\+ 1.0.0

\+ 1.3.1

\+ 1.4.0

\+ 1.5.0

\+ 1.7.0

To install this package with conda run:

conda install --channel https://conda.anaconda.org/HCC tensorflow

tensorflow\@tfvm:\~/anaconda2/bin\$ conda install --channel
https://conda.anaconda.org/HCC tensorflow

Solving environment: done

\#\# Package Plan \#\#

environment location: /opt/anaconda2

added / updated specs:

\- tensorflow

The following packages will be downloaded:

package \| build

\---------------------------\|-----------------

tensorflow-1.4.0 \| py27_0 33.7 MB HCC

libprotobuf-3.5.2 \| h6f1eeef_0 4.2 MB

protobuf-3.5.2 \| py27hf484d3e_0 603 KB

libgcc-7.2.0 \| h69d50b8_2 304 KB

\------------------------------------------------------------

Total: 38.7 MB

The following NEW packages will be INSTALLED:

libgcc: 7.2.0-h69d50b8_2

libprotobuf: 3.5.2-h6f1eeef_0

protobuf: 3.5.2-py27hf484d3e_0

tensorflow: 1.4.0-py27_0 HCC

Fetching package metadata ...............

Solving package specifications: .

Package plan for installation in environment /home/tensorflow/anaconda2:

The following NEW packages will be INSTALLED:

absl-py: 0.1.10-py27_0 HCC

astor: 0.6.2-py27_0 defaults

backports.weakref: 1.0rc1-py27_0
https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free

gast: 0.2.0-py27_0 defaults

grpcio: 1.12.0-py27hdbcaa40_0 defaults

libgcc: 5.2.0-0 https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free

libprotobuf: 3.5.2-h6f1eeef_0 defaults

markdown: 2.6.9-py27_0 https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free

mock: 2.0.0-py27_0 https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free

pbr: 1.10.0-py27_0 https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free

protobuf: 3.5.2-py27hf484d3e_0 defaults

tensorboard: 1.7.0-np113py27_0 HCC

tensorflow: 1.7.0-np113py27_0 HCC

termcolor: 1.1.0-py27_0 https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free

The following packages will be UPDATED:

anaconda: 5.2.0-py27_3 defaults --\> custom-py27_0
https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free

The following packages will be SUPERSEDED by a higher-priority channel:

bleach: 2.1.3-py27_0 defaults --\> 1.5.0-py27_0
https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free

conda-env: 2.6.0-h36134e3_1 defaults --\> 2.6.0-0
https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free

futures: 3.2.0-py27h7b459c0_0 defaults --\> 3.1.1-py27_0
https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free

html5lib: 1.0.1-py27h5233db4_0 defaults --\> 0.9999999-py27_0
https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free

The following packages will be DOWNGRADED:

numpy: 1.14.3-py27hcd700cb_1 defaults --\> 1.13.3-py27hdbf6ddf_4 defaults

Proceed ([y]/n)? y

conda-env-2.6. 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 776.95 kB/s

libgcc-5.2.0-0 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 4.80 MB/s

libprotobuf-3. 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:01 2.20 MB/s

anaconda-custo 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 6.44 MB/s

astor-0.6.2-py 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 5.22 MB/s

futures-3.1.1- 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 32.15 MB/s

gast-0.2.0-py2 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 10.18 MB/s

markdown-2.6.9 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 480.50 kB/s

termcolor-1.1. 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 17.43 MB/s

absl-py-0.1.10 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:02 43.35 kB/s

backports.weak 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 16.58 MB/s

html5lib-0.999 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 13.13 MB/s

protobuf-3.5.2 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 3.94 MB/s

bleach-1.5.0-p 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 30.15 MB/s

grpcio-1.12.0- 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 4.46 MB/s

pbr-1.10.0-py2 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 14.49 MB/s

mock-2.0.0-py2 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 14.59 MB/s

numpy-1.13.3-p 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:00 5.27 MB/s

tensorboard-1. 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:12 261.62 kB/s

tensorflow-1.7 100%
\|\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\| Time:
0:00:45 884.91 kB/s

在浏览器中浏览anaconda下的tensorflow channel：

<https://anaconda.org/search?q=tensorflow>

安装时指定版本号：

conda install --channel https://conda.anaconda.org/conda-forge tensorflow=1.0.0

tensor\@tfvm:/opt\$ conda install --channel https://conda.anaconda.org/anaconda
tensorflow=1.8.0

Solving environment: done

\#\# Package Plan \#\#

environment location: /opt/anaconda2

added / updated specs:

\- tensorflow=1.8.0

The following packages will be downloaded:

package \| build

\---------------------------\|-----------------

absl-py-0.2.2 \| py27_0 132 KB anaconda

certifi-2018.4.16 \| py27_0 142 KB anaconda

astor-0.6.2 \| py27_0 41 KB anaconda

\_tflow_180_select-3.0 \| eigen 2 KB anaconda

tensorflow-1.8.0 \| h7b2774c_0 3 KB anaconda

gast-0.2.0 \| py27_0 15 KB anaconda

termcolor-1.1.0 \| py27_1 7 KB anaconda

markdown-2.6.11 \| py27_0 102 KB anaconda

ca-certificates-2018.03.07 \| 0 124 KB anaconda

protobuf-3.5.2 \| py27hf484d3e_0 603 KB anaconda

bleach-1.5.0 \| py27_0 21 KB anaconda

pbr-4.0.4 \| py27_0 114 KB anaconda

tensorboard-1.8.0 \| py27hf484d3e_0 3.0 MB anaconda

tensorflow-base-1.8.0 \| py27h5f64886_0 40.0 MB anaconda

conda-4.5.4 \| py27_0 1.0 MB anaconda

html5lib-0.9999999 \| py27_0 183 KB anaconda

libprotobuf-3.5.2 \| h6f1eeef_0 4.2 MB anaconda

mock-2.0.0 \| py27h0c0c831_0 100 KB anaconda

backports.weakref-1.0.post1\| py27h0df1112_0 8 KB anaconda

grpcio-1.12.1 \| py27hdbcaa40_0 1.7 MB anaconda

openssl-1.0.2o \| h20670df_0 3.4 MB anaconda

\------------------------------------------------------------

Total: 55.0 MB

The following NEW packages will be INSTALLED:

\_tflow_180_select: 3.0-eigen anaconda

absl-py: 0.2.2-py27_0 anaconda

astor: 0.6.2-py27_0 anaconda

backports.weakref: 1.0.post1-py27h0df1112_0 anaconda

gast: 0.2.0-py27_0 anaconda

grpcio: 1.12.1-py27hdbcaa40_0 anaconda

libprotobuf: 3.5.2-h6f1eeef_0 anaconda

markdown: 2.6.11-py27_0 anaconda

mock: 2.0.0-py27h0c0c831_0 anaconda

pbr: 4.0.4-py27_0 anaconda

protobuf: 3.5.2-py27hf484d3e_0 anaconda

tensorboard: 1.8.0-py27hf484d3e_0 anaconda

tensorflow: 1.8.0-h7b2774c_0 anaconda

tensorflow-base: 1.8.0-py27h5f64886_0 anaconda

termcolor: 1.1.0-py27_1 anaconda

The following packages will be REMOVED:

anaconda: 5.2.0-py27_3

The following packages will be UPDATED:

ca-certificates: 2018.03.07-0 --\> 2018.03.07-0 anaconda

certifi: 2018.4.16-py27_0 --\> 2018.4.16-py27_0 anaconda

conda: 4.5.4-py27_0 --\> 4.5.4-py27_0 anaconda

openssl: 1.0.2o-h20670df_0 --\> 1.0.2o-h20670df_0 anaconda

The following packages will be DOWNGRADED:

bleach: 2.1.3-py27_0 --\> 1.5.0-py27_0 anaconda

html5lib: 1.0.1-py27h5233db4_0 --\> 0.9999999-py27_0 anaconda

tensorflow\@tfvm:\~\$ python -V

Python 2.7.15 :: Anaconda custom (64-bit)

错误提示：

ImportError: No module named google.protobuf

tensor\@tfvm:/opt\$ conda install protobuf

ImportError: cannot import name pywrap_tensorflow

这个问题是PATH的问题，安装tensorflow之后没有更新PATH设置，重启之后正常。

tensor\@tfvm:/opt\$ sudo reboot

确认tensorflow版本：

tensor\@tfvm:\~\$ conda list tensorflow

\# packages in environment at /opt/anaconda2:

\#

\# Name Version Build Channel

tensorflow 1.8.0 h7b2774c_0 anaconda

tensorflow-base 1.8.0 py27h5f64886_0 anaconda

tensor\@tfvm:\~\$ anaconda --version

anaconda Command line client (version 1.6.14)

tensor\@tfvm:\~\$ conda --v

conda 4.5.4

tensorflow\@tfvm:\~/anaconda2/bin\$ jupyter notebook –ip=192.168.100.66

tensorflow\@tfvm:\~/anaconda2/bin\$ jupyter notebook list

Anaconda 2 中还包括了VSCode（微软推出的免费的轻量级的编辑器），启动命令

tensorflow\@tfvm:\~code

![](media/60341828f993916f56646189ba0689dd.png)

<https://blog.csdn.net/u011258217/article/details/78693564>

DOIT Simply
===========

图形对象检测
------------

Python 3、anaconda、conda 4.5.4、tensorflow 1.8、keras 2.1.6、ImageAI 2.0.1

### 街景识别

识别对象：car、person、handbag以及动物等物体。

zebra : 60.902196168899536

kite : 63.8006865978241

teddy bear : 74.13351535797119

giraffe : 94.53464150428772

参考：

<https://mp.weixin.qq.com/s/Moi1-yGLOJOAbHYxYL6Hjw>

在test_py3环境下重复过程（ImageAI官网提供的安装包是python 3的）：

tensor\@tfvm:\~\$ source activate test_py3

(test_py3) tensor\@tfvm:\~\$ conda list tensorflow

\# packages in environment at /opt/anaconda2/envs/test_py3:

\#

\# Name Version Build Channel

没有tensorflow

(test_py3) tensor\@tfvm:\~\$ mkdir \~/.pip

(test_py3) tensor\@tfvm:\~\$ vi \~/.pip/pip.conf

[global]

index-url = https://pypi.tuna.tsinghua.edu.cn/simple

(test_py3) tensor\@tfvm:\~\$ conda install --channel
https://conda.anaconda.org/anaconda tensorflow=1.8.0

Solving environment: done

\#\# Package Plan \#\#

environment location: /opt/anaconda2/envs/test_py3

added / updated specs:

\- tensorflow=1.8.0

The following packages will be downloaded:

package \| build

\---------------------------\|-----------------

six-1.11.0 \| py36h372c433_1 21 KB anaconda

mkl-2018.0.3 \| 1 198.7 MB anaconda

blas-1.0 \| mkl 6 KB anaconda

astor-0.6.2 \| py36_0 42 KB anaconda

tensorflow-base-1.8.0 \| py36h5f64886_0 40.1 MB anaconda

grpcio-1.12.1 \| py36hdbcaa40_0 1.7 MB anaconda

markdown-2.6.11 \| py36_0 104 KB anaconda

ca-certificates-2018.03.07 \| 0 124 KB anaconda

tensorboard-1.8.0 \| py36hf484d3e_0 3.1 MB anaconda

libgfortran-ng-7.2.0 \| hdf63c60_3 1.2 MB anaconda

certifi-2018.4.16 \| py36_0 142 KB anaconda

absl-py-0.2.2 \| py36_0 135 KB anaconda

intel-openmp-2018.0.3 \| 0 705 KB anaconda

numpy-1.14.5 \| py36hcd700cb_0 94 KB anaconda

gast-0.2.0 \| py36_0 15 KB anaconda

mkl_fft-1.0.1 \| py36h3010b51_0 140 KB anaconda

werkzeug-0.14.1 \| py36_0 423 KB anaconda

mkl_random-1.0.1 \| py36h629b387_0 373 KB anaconda

openssl-1.0.2o \| h20670df_0 3.4 MB anaconda

termcolor-1.1.0 \| py36_1 7 KB anaconda

bleach-1.5.0 \| py36_0 22 KB anaconda

tensorflow-1.8.0 \| h57681fa_0 3 KB anaconda

numpy-base-1.14.5 \| py36hdbf6ddf_0 4.1 MB anaconda

protobuf-3.5.2 \| py36hf484d3e_0 610 KB anaconda

html5lib-0.9999999 \| py36_0 176 KB anaconda

\------------------------------------------------------------

Total: 255.5 MB

The following NEW packages will be INSTALLED:

\_tflow_180_select: 3.0-eigen anaconda

absl-py: 0.2.2-py36_0 anaconda

astor: 0.6.2-py36_0 anaconda

blas: 1.0-mkl anaconda

bleach: 1.5.0-py36_0 anaconda

gast: 0.2.0-py36_0 anaconda

grpcio: 1.12.1-py36hdbcaa40_0 anaconda

html5lib: 0.9999999-py36_0 anaconda

intel-openmp: 2018.0.3-0 anaconda

libgfortran-ng: 7.2.0-hdf63c60_3 anaconda

libprotobuf: 3.5.2-h6f1eeef_0 anaconda

markdown: 2.6.11-py36_0 anaconda

mkl: 2018.0.3-1 anaconda

mkl_fft: 1.0.1-py36h3010b51_0 anaconda

mkl_random: 1.0.1-py36h629b387_0 anaconda

numpy: 1.14.5-py36hcd700cb_0 anaconda

numpy-base: 1.14.5-py36hdbf6ddf_0 anaconda

protobuf: 3.5.2-py36hf484d3e_0 anaconda

six: 1.11.0-py36h372c433_1 anaconda

tensorboard: 1.8.0-py36hf484d3e_0 anaconda

tensorflow: 1.8.0-h57681fa_0 anaconda

tensorflow-base: 1.8.0-py36h5f64886_0 anaconda

termcolor: 1.1.0-py36_1 anaconda

werkzeug: 0.14.1-py36_0 anaconda

The following packages will be UPDATED:

ca-certificates: 2018.03.07-0 --\> 2018.03.07-0 anaconda

certifi: 2018.4.16-py36_0 --\> 2018.4.16-py36_0 anaconda

openssl: 1.0.2o-h20670df_0 --\> 1.0.2o-h20670df_0 anaconda

Proceed ([y]/n)? y

Downloading and Extracting Packages

six-1.11.0 \| 21 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

mkl-2018.0.3 \| 198.7 MB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \|
100%

blas-1.0 \| 6 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

astor-0.6.2 \| 42 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

tensorflow-base-1.8. \| 40.1 MB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

grpcio-1.12.1 \| 1.7 MB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

markdown-2.6.11 \| 104 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

ca-certificates-2018 \| 124 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

tensorboard-1.8.0 \| 3.1 MB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

libgfortran-ng-7.2.0 \| 1.2 MB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

certifi-2018.4.16 \| 142 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

absl-py-0.2.2 \| 135 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

intel-openmp-2018.0. \| 705 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

numpy-1.14.5 \| 94 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

gast-0.2.0 \| 15 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \|
100%

mkl_fft-1.0.1 \| 140 KB \| \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \|
100%

werkzeug-0.14.1 \| 423 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

mkl_random-1.0.1 \| 373 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

openssl-1.0.2o \| 3.4 MB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \|
100%

termcolor-1.1.0 \| 7 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

bleach-1.5.0 \| 22 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

tensorflow-1.8.0 \| 3 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

numpy-base-1.14.5 \| 4.1 MB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

protobuf-3.5.2 \| 610 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# \| 100%

html5lib-0.9999999 \| 176 KB \|
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\| 100%

Preparing transaction: done

Verifying transaction: done

Executing transaction: done

(test_py3) tensor\@tfvm:\~\$ sudo apt install python3-pip

(test_py3) tensor\@tfvm:\~\$ pip install numpy

Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple

Requirement already satisfied: numpy in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (1.14.5)

mkl-random 1.0.1 requires cython, which is not installed.

mkl-fft 1.0.0 requires cython, which is not installed.

(test_py3) tensor\@tfvm:\~\$ pip install scipy

Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple

Collecting scipy

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/a8/0b/f163da98d3a01b3e0ef1cab8dd2123c34aee2bafbb1c5bffa354cc8a1730/scipy-1.1.0-cp36-cp36m-manylinux1_x86_64.whl
(31.2MB)

100% \|██████████████████████\| 31.2MB 1.5MB/s

Requirement already satisfied: numpy\>=1.8.2 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from scipy) (1.14.5)

mkl-random 1.0.1 requires cython, which is not installed.

mkl-fft 1.0.0 requires cython, which is not installed.

Installing collected packages: scipy

Successfully installed scipy-1.1.0

(test_py3) tensor\@tfvm:\~\$ pip install opencv-python

Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple

Collecting opencv-python

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/e6/d1/732afb3a056d7e7f3af08f3fcb67a7c1ceedd6be941f8e3907da0400c36e/opencv_python-3.4.0.14-cp36-cp36m-manylinux1_x86_64.whl
(24.8MB)

100% \|███████████████████████\| 24.8MB 421kB/s

Requirement already satisfied: numpy\>=1.11.3 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from opencv-python)
(1.14.5)

mkl-random 1.0.1 requires cython, which is not installed.

mkl-fft 1.0.0 requires cython, which is not installed.

Installing collected packages: opencv-python

Successfully installed opencv-python-3.4.0.14

(test_py3) tensor\@tfvm:\~\$ pip install pillow

Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple

Collecting pillow

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/5f/4b/8b54ab9d37b93998c81b364557dff9f61972c0f650efa0ceaf470b392740/Pillow-5.1.0-cp36-cp36m-manylinux1_x86_64.whl
(2.0MB)

100% \|████████████████████████\| 2.0MB 16.8MB/s

mkl-random 1.0.1 requires cython, which is not installed.

mkl-fft 1.0.0 requires cython, which is not installed.

Installing collected packages: pillow

Successfully installed pillow-5.1.0

(test_py3) tensor\@tfvm:\~\$ pip install matplotlib

Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple

Collecting matplotlib

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/49/b8/89dbd27f2fb171ce753bb56220d4d4f6dbc5fe32b95d8edc4415782ef07f/matplotlib-2.2.2-cp36-cp36m-manylinux1_x86_64.whl
(12.6MB)

100% \|██████████████████████\| 12.6MB 3.3MB/s

Collecting cycler\>=0.10 (from matplotlib)

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/f7/d2/e07d3ebb2bd7af696440ce7e754c59dd546ffe1bbe732c8ab68b9c834e61/cycler-0.10.0-py2.py3-none-any.whl

Collecting kiwisolver\>=1.0.1 (from matplotlib)

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/69/a7/88719d132b18300b4369fbffa741841cfd36d1e637e1990f27929945b538/kiwisolver-1.0.1-cp36-cp36m-manylinux1_x86_64.whl
(949kB)

100% \|███████████████████████\| 952kB 24.2MB/s

Collecting pytz (from matplotlib)

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/dc/83/15f7833b70d3e067ca91467ca245bae0f6fe56ddc7451aa0dc5606b120f2/pytz-2018.4-py2.py3-none-any.whl
(510kB)

100% \|█████████████████████\| 512kB 11.9MB/s

Requirement already satisfied: six\>=1.10 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from matplotlib)
(1.11.0)

Collecting python-dateutil\>=2.1 (from matplotlib)

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/cf/f5/af2b09c957ace60dcfac112b669c45c8c97e32f94aa8b56da4c6d1682825/python_dateutil-2.7.3-py2.py3-none-any.whl
(211kB)

100% \|████████████████████████\| 215kB 11.3MB/s

Requirement already satisfied: numpy\>=1.7.1 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from matplotlib)
(1.14.5)

Collecting pyparsing!=2.0.4,!=2.1.2,!=2.1.6,\>=2.0.1 (from matplotlib)

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/6a/8a/718fd7d3458f9fab8e67186b00abdd345b639976bc7fb3ae722e1b026a50/pyparsing-2.2.0-py2.py3-none-any.whl
(56kB)

100% \|██████████████████████████\| 61kB 16.0MB/s

Requirement already satisfied: setuptools in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
kiwisolver\>=1.0.1-\>matplotlib) (39.2.0)

mkl-random 1.0.1 requires cython, which is not installed.

mkl-fft 1.0.0 requires cython, which is not installed.

Installing collected packages: cycler, kiwisolver, pytz, python-dateutil,
pyparsing, matplotlib

pip install h5pySuccessfully installed cycler-0.10.0 kiwisolver-1.0.1
matplotlib-2.2.2 pyparsing-2.2.0 python-dateutil-2.7.3 pytz-2018.4

(test_py3) tensor\@tfvm:\~\$ pip install h5py

Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple

Collecting h5py

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/f2/b8/a63fcc840bba5c76e453dd712dbca63178a264c8990e0086b72965d4e954/h5py-2.7.1-cp36-cp36m-manylinux1_x86_64.whl
(5.4MB)

100% \|████████████████████\| 5.4MB 6.1MB/s

Requirement already satisfied: six in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from h5py) (1.11.0)

Requirement already satisfied: numpy\>=1.7 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from h5py) (1.14.5)

mkl-random 1.0.1 requires cython, which is not installed.

mkl-fft 1.0.0 requires cython, which is not installed.

Installing collected packages: h5py

Successfully installed h5py-2.7.1

(test_py3) tensor\@tfvm:\~\$ pip install keras

Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple

Collecting keras

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/54/e8/eaff7a09349ae9bd40d3ebaf028b49f5e2392c771f294910f75bb608b241/Keras-2.1.6-py2.py3-none-any.whl
(339kB)

100% \|█████████████████████\| 348kB 9.2MB/s

Requirement already satisfied: six\>=1.9.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from keras) (1.11.0)

Requirement already satisfied: numpy\>=1.9.1 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from keras) (1.14.5)

Requirement already satisfied: scipy\>=0.14 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from keras) (1.1.0)

Requirement already satisfied: h5py in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from keras) (2.7.1)

Collecting pyyaml (from keras)

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/4a/85/db5a2df477072b2902b0eb892feb37d88ac635d36245a72a6a69b23b383a/PyYAML-3.12.tar.gz
(253kB)

100% \|██████████████████████\| 256kB 19.0MB/s

Building wheels for collected packages: pyyaml

Running setup.py bdist_wheel for pyyaml ... done

Stored in directory:
/home/tensor/.cache/pip/wheels/00/b2/1d/2174fdfb3948921579b0842b8159f9f7f136562311b43fee49

Successfully built pyyaml

mkl-random 1.0.1 requires cython, which is not installed.

mkl-fft 1.0.0 requires cython, which is not installed.

Installing collected packages: pyyaml, keras

Successfully installed keras-2.1.6 pyyaml-3.12

(test_py3) tensor\@tfvm:\~\$ pip install
https://github.com/OlafenwaMoses/ImageAI/releases/download/2.0.1/imageai-2.0.1-py3-none-any.whl

Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple

Collecting imageai==2.0.1 from
https://github.com/OlafenwaMoses/ImageAI/releases/download/2.0.1/imageai-2.0.1-py3-none-any.whl

Downloading
https://github.com/OlafenwaMoses/ImageAI/releases/download/2.0.1/imageai-2.0.1-py3-none-any.whl
(137kB)

100% \|███████████████████████\| 143kB 94kB/s

mkl-random 1.0.1 requires cython, which is not installed.

mkl-fft 1.0.0 requires cython, which is not installed.

Installing collected packages: imageai

Successfully installed imageai-2.0.1

(test_py3) tensor\@tfvm:\~\$ pip install cython

Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple

Collecting cython

Downloading
https://pypi.tuna.tsinghua.edu.cn/packages/6f/79/d8e2cd00bea8156a995fb284ce7b6677c49eccd2d318f73e201a9ce560dc/Cython-0.28.3-cp36-cp36m-manylinux1_x86_64.whl
(3.4MB)

100% \|████████████████████████\| 3.4MB 9.5MB/s

Installing collected packages: cython

Successfully installed cython-0.28.3

(test_py3) tensor\@tfvm:\~\$ pip -V

pip 10.0.1 from /opt/anaconda2/envs/test_py3/lib/python3.6/site-packages/pip
(python 3.6)

(test_py3) tensor\@tfvm:\~\$ sudo apt install spyder3

(test_py3) tensor\@tfvm:\~\$ spyder3

![](media/c6c46eb27077600857c3aee394cf3303.png)

在环境test_py3下测试成功：

下载tensorflow-1.8.0-cp36-cp36m-manylinux1_x86_64.whl之后pip安装：

(test_py3) tensor\@tfvm:\~\$ pip install
tensorflow-1.8.0-cp36-cp36m-manylinux1_x86_64.whl

Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple

Requirement already satisfied: tensorflow==1.8.0 from
file:///home/tensor/tensorflow-1.8.0-cp36-cp36m-manylinux1_x86_64.whl in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (1.8.0)

Requirement already satisfied: absl-py\>=0.1.6 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (0.2.2)

Requirement already satisfied: wheel\>=0.26 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (0.31.1)

Requirement already satisfied: protobuf\>=3.4.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (3.5.2)

Requirement already satisfied: termcolor\>=1.1.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (1.1.0)

Requirement already satisfied: six\>=1.10.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (1.11.0)

Requirement already satisfied: grpcio\>=1.8.6 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (1.12.1)

Requirement already satisfied: gast\>=0.2.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (0.2.0)

Requirement already satisfied: numpy\>=1.13.3 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (1.14.5)

Requirement already satisfied: tensorboard\<1.9.0,\>=1.8.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (1.8.0)

Requirement already satisfied: astor\>=0.6.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (0.6.2)

Requirement already satisfied: setuptools in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
protobuf\>=3.4.0-\>tensorflow==1.8.0) (39.2.0)

Requirement already satisfied: werkzeug\>=0.11.10 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorboard\<1.9.0,\>=1.8.0-\>tensorflow==1.8.0) (0.14.1)

Requirement already satisfied: html5lib==0.9999999 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorboard\<1.9.0,\>=1.8.0-\>tensorflow==1.8.0) (0.9999999)

Requirement already satisfied: markdown\>=2.6.8 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorboard\<1.9.0,\>=1.8.0-\>tensorflow==1.8.0) (2.6.11)

Requirement already satisfied: bleach==1.5.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorboard\<1.9.0,\>=1.8.0-\>tensorflow==1.8.0) (1.5.0)

(test_py3) tensor\@tfvm:\~\$ pip install
tensorflow-1.8.0-cp36-cp36m-manylinux1_x86_64.whl

Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple

Requirement already satisfied: tensorflow==1.8.0 from
file:///home/tensor/tensorflow-1.8.0-cp36-cp36m-manylinux1_x86_64.whl in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (1.8.0)

Requirement already satisfied: astor\>=0.6.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (0.6.2)

Requirement already satisfied: absl-py\>=0.1.6 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (0.2.2)

Requirement already satisfied: gast\>=0.2.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (0.2.0)

Requirement already satisfied: protobuf\>=3.4.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (3.5.2)

Requirement already satisfied: numpy\>=1.13.3 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (1.14.5)

Requirement already satisfied: six\>=1.10.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (1.11.0)

Requirement already satisfied: termcolor\>=1.1.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (1.1.0)

Requirement already satisfied: grpcio\>=1.8.6 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (1.12.1)

Requirement already satisfied: tensorboard\<1.9.0,\>=1.8.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (1.8.0)

Requirement already satisfied: wheel\>=0.26 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorflow==1.8.0) (0.31.1)

Requirement already satisfied: setuptools in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
protobuf\>=3.4.0-\>tensorflow==1.8.0) (39.2.0)

Requirement already satisfied: werkzeug\>=0.11.10 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorboard\<1.9.0,\>=1.8.0-\>tensorflow==1.8.0) (0.14.1)

Requirement already satisfied: html5lib==0.9999999 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorboard\<1.9.0,\>=1.8.0-\>tensorflow==1.8.0) (0.9999999)

Requirement already satisfied: markdown\>=2.6.8 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorboard\<1.9.0,\>=1.8.0-\>tensorflow==1.8.0) (2.6.11)

Requirement already satisfied: bleach==1.5.0 in
/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages (from
tensorboard\<1.9.0,\>=1.8.0-\>tensorflow==1.8.0) (1.5.0)

代码：

(test_py3) tensor\@tfvm:\~\$ cat FirstDetection.py

from imageai.Detection import ObjectDetection

import os

execution_path = os.getcwd()

detector = ObjectDetection()

detector.setModelTypeAsRetinaNet()

detector.setModelPath(os.path.join(execution_path,"resnet50_coco_best_v2.0.1.h5"))

detector.loadModel()

detections=detector.detectObjectsFromImage(input_image=os.path.join(execution_path,"image.jpg"),output_image_path=os.path.join(execution_path,"imagenew.jpg"))

for eachObject in detections:

print(eachObject["name"] + " : " + eachObject["percentage_probability"])

(test_py3) tensor\@tfvm:\~\$ python FirstDetection.py

/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages/h5py/__init__.py:36:
FutureWarning: Conversion of the second argument of issubdtype from \`float\` to
\`np.floating\` is deprecated. In future, it will be treated as \`np.float64 ==
np.dtype(float).type\`.

from ._conv import register_converters as \_register_converters

Using TensorFlow backend.

2018-06-24 17:49:39.152047: I tensorflow/core/platform/cpu_feature_guard.cc:140]
Your CPU supports instructions that this TensorFlow binary was not compiled to
use: SSE4.1 SSE4.2 AVX

car : 80.99603056907654

car : 63.76085877418518

handbag : 52.554577589035034

person : 84.87399816513062

person : 75.58995485305786

car : 65.04697799682617

car : 71.75977826118469

person : 87.2457504272461

person : 81.74251914024353

car : 58.996182680130005

![D:\\Program Files\\Tencent\\QQ\\809758521\\Image\\C2C\\Image1\\1)]583SB{4MZXSFD\`XPBH4X.jpg](media/e115227cfa22f04faf8cc3ea17f2c6f1.jpg)

![D:\\Program Files\\Tencent\\QQ\\809758521\\Image\\C2C\\Image1\\QSKN\`2_\~HOH{ZD4KZL06[6F.jpg](media/5a892fc2efe4dbe4ad053f4b764ba76e.jpg)

(test_py3) tensor\@tfvm:\~\$ cp 2018spring.jpg image.jpg

(test_py3) tensor\@tfvm:\~\$ python FirstDetection.py

/opt/anaconda2/envs/test_py3/lib/python3.6/site-packages/h5py/__init__.py:36:
FutureWarning: Conversion of the second argument of issubdtype from \`float\` to
\`np.floating\` is deprecated. In future, it will be treated as \`np.float64 ==
np.dtype(float).type\`.

from ._conv import register_converters as \_register_converters

Using TensorFlow backend.

2018-06-24 17:53:34.431756: I tensorflow/core/platform/cpu_feature_guard.cc:140]
Your CPU supports instructions that this TensorFlow binary was not compiled to
use: SSE4.1 SSE4.2 AVX

person : 82.31648802757263

person : 82.685387134552

person : 82.50718712806702

person : 94.79280710220337

person : 96.5410828590393

person : 71.31900787353516

person : 96.81103229522705

person : 61.69199347496033

![D:\\Program Files\\Tencent\\QQ\\809758521\\Image\\C2C\\Image1\\I}\`\@4PI6JL5RRV}5Z\@[]8FA.jpg](media/52e033df4bb1da2bcf5cebee2b60604b.jpg)

![D:\\Program Files\\Tencent\\QQ\\809758521\\Image\\C2C\\Image1\\{D2FM\$)E54\`G8]9[1\~8E6BT.jpg](media/9b642f82d82841e7d9560846f40195d5.jpg)

回过头来整spyder3的环境，spyder3 在ubuntu的python 3（python
3.5.2）的环境下运行。

![](media/7a33f055501e4ed6771e680563c2d8dc.png)

tensor\@tfvm:\~\$ pip3 -V

pip 8.1.1 from /usr/lib/python3/dist-packages (python 3.5)

![](media/52c04f51e82449520b5f631252fbf0a7.png)

使用pip3安装一系列依赖：

tensor\@tfvm:\~\$ pip3 install tensorflow-1.8.0-cp35-cp35m-manylinux1_x86_64.whl

成功运行：

![](media/e69f039de51e261ba376e2c838c88dce.png)

调整jupyter环境：

![](media/e3500c3da02802a8bd2bd0a5928a4eb0.png)

from imageai.Detection import ObjectDetection

import os

from PIL import Image

import matplotlib.pyplot as plt

execution_path = os.getcwd()

detector = ObjectDetection()

detector.setModelTypeAsRetinaNet()

detector.setModelPath(os.path.join(execution_path,"resnet50_coco_best_v2.0.1.h5"))

detector.loadModel()

detections=detector.detectObjectsFromImage(input_image=os.path.join(execution_path,"image.jpg"),output_image_path=os.path.join(execution_path,"imagenew.jpg"))

for eachObject in detections:

print(eachObject["name"] + " : " + eachObject["percentage_probability"])

img=Image.open(os.path.join(execution_path,"imagenew.jpg"))

plt.figure("检测")

plt.imshow(img)

plt.show()

print(img.size)

print(img.mode)

print(img.format)

### 汽车类型识别

![](media/01147f65721b282fa769e52f83b677ba.png)

代码：

tensor\@tfvm:\~\$ cat image_prediction.py

from imageai.Prediction import ImagePrediction

import os

execution_path = os.getcwd()

print("NOw path:"+execution_path)

prediction = ImagePrediction()

prediction.setModelTypeAsResNet()

prediction.setModelPath(os.path.join(execution_path,
"resnet50_weights_tf_dim_ordering_tf_kernels.h5"))

\#prediction.setModelPath(os.path.join(execution_path,
"resnet50_coco_best_v2.0.1.h5"))

print(os.path.join(execution_path,
"resnet50_weights_tf_dim_ordering_tf_kernels.h5"))

prediction.loadModel()

predictions, probabilities =
prediction.predictImage(os.path.join(execution_path, "1.jpg"), result_count=5 )

for eachPrediction, eachProbability in zip(predictions, probabilities):

print(eachPrediction + " : " + eachProbability)

tensor\@tfvm:\~\$ python3 image_prediction.py

/home/tensor/.local/lib/python3.5/site-packages/h5py/__init__.py:36:
FutureWarning: Conversion of the second argument of issubdtype from \`float\` to
\`np.floating\` is deprecated. In future, it will be treated as \`np.float64 ==
np.dtype(float).type\`.

from ._conv import register_converters as \_register_converters

NOw path:/home/tensor

/home/tensor/resnet50_weights_tf_dim_ordering_tf_kernels.h5

convertible : 53.22014093399048

sports_car : 34.547680616378784

pickup : 3.907627612352371

minivan : 2.6654161512851715

car_wheel : 1.8447380512952805

convertible : 折篷车；敞篷车

sports_car : 运动轿车

pickup : 皮卡、轻型货车

minivan : （尤指载客的）小型面包车

car_wheel : 汽车轮子？

模型训练
--------

<https://www.cnblogs.com/qcloud1001/p/7677661.html>

云加社区：

<http://www.cnblogs.com/qcloud1001/tag/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/>

数据基础
========

数据分析

概率论

线性代数及矩阵

凸优化

数据挖掘
========

C4.5
----

K-Means
-------

算法简介

  k-means算法是一种聚类算法，所谓聚类，即根据相似性原则，将具有较高相似度的数据对象划分至同一类簇，将具有较高相异度的数据对象划分至不同类簇。聚类与分类最大的区别在于，聚类过程为无监督过程，即待处理数据对象没有任何先验知识，而分类过程为有监督过程，即存在有先验知识的训练数据集。

  k-means算法中的k代表类簇个数，means代表类簇内数据对象的均值（这种均值是一种对类簇中心的描述），因此，k-means算法又称为k-均值算法。k-means算法是一种基于划分的聚类算法，以距离作为数据对象间相似性度量的标准，即数据对象间的距离越小，则它们的相似性越高，则它们越有可能在同一个类簇。数据对象间距离的计算有很多种，k-means算法通常采用欧氏距离来计算数据对象间的距离。

k-means算法优缺点分析

\- 优点：

  算法简单易实现；

\- 缺点：

  需要用户事先指定类簇个数K；

  聚类结果对初始类簇中心的选取较为敏感；

  容易陷入局部最优；

  只能发现球型类簇；

k-means算法改进方法

  初始类簇中心的选取，可以通过k-means++算法进行改进。

代码实现（jupyter anaconda3 python 3 tensorflow 1.8）：

\# -\*- coding: utf-8 -\*-

import numpy as np

from numpy.linalg import cholesky

import matplotlib.pyplot as plt

import seaborn as sns

import pandas as pd

import tensorflow as tf

from random import choice, shuffle

from numpy import array

\#\#\#\#\#\#\#\#\#\#\#\#Sachin
Joglekar的基于tensorflow写的一个kmeans模板\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#

def KMeansCluster(vectors, noofclusters):

"""

K-Means Clustering using TensorFlow.

\`vertors\`应该是一个n\*k的二维的NumPy的数组，其中n代表着K维向量的数目

'noofclusters' 代表了待分的集群的数目，是一个整型值

"""

noofclusters = int(noofclusters)

assert noofclusters \< len(vectors)

\#找出每个向量的维度

dim = len(vectors[0])

\#辅助随机地从可得的向量中选取中心点

vector_indices = list(range(len(vectors)))

shuffle(vector_indices)

\#计算图

\#我们创建了一个默认的计算流的图用于整个算法中，这样就保证了当函数被多次调用

\#时，默认的图并不会被从上一次调用时留下的未使用的OPS或者Variables挤满

graph = tf.Graph()

with graph.as_default():

\#计算的会话

sess = tf.Session()

\#\#构建基本的计算的元素

\#\#首先我们需要保证每个中心点都会存在一个Variable矩阵

\#\#从现有的点集合中抽取出一部分作为默认的中心点

centroids = [tf.Variable((vectors[vector_indices[i]]))

for i in range(noofclusters)]

\#\#创建一个placeholder用于存放各个中心点可能的分类的情况

centroid_value = tf.placeholder("float64", [dim])

cent_assigns = []

for centroid in centroids:

cent_assigns.append(tf.assign(centroid, centroid_value))

\#\#对于每个独立向量的分属的类别设置为默认值0

assignments = [tf.Variable(0) for i in range(len(vectors))]

\#\#这些节点在后续的操作中会被分配到合适的值

assignment_value = tf.placeholder("int32")

cluster_assigns = []

for assignment in assignments:

cluster_assigns.append(tf.assign(assignment,

assignment_value))

\#\#下面创建用于计算平均值的操作节点

\#输入的placeholder

mean_input = tf.placeholder("float", [None, dim])

\#节点/OP接受输入，并且计算0维度的平均值，譬如输入的向量列表

mean_op = tf.reduce_mean(mean_input, 0)

\#\#用于计算欧几里得距离的节点

v1 = tf.placeholder("float", [dim])

v2 = tf.placeholder("float", [dim])

euclid_dist = tf.sqrt(tf.reduce_sum(tf.pow(tf.subtract(v1, v2), 2)))

\#\#这个OP会决定应该将向量归属到哪个节点

\#\#基于向量到中心点的欧几里得距离

\#Placeholder for input

centroid_distances = tf.placeholder("float", [noofclusters])

cluster_assignment = tf.argmin(centroid_distances, 0)

\#\#初始化所有的状态值

\#\#这会帮助初始化图中定义的所有Variables。Variable-initializer应该定

\#\#义在所有的Variables被构造之后，这样所有的Variables才会被纳入初始化

init_op = tf.global_variables_initializer()

\#初始化所有的变量

sess.run(init_op)

\#\#集群遍历

\#接下来在K-Means聚类迭代中使用最大期望算法。为了简单起见，只让它执行固

\#定的次数，而不设置一个终止条件

noofiterations = 20

for iteration_n in range(noofiterations):

\#\#期望步骤

\#\#基于上次迭代后算出的中心点的未知

\#\#the \_expected\_ centroid assignments.

\#首先遍历所有的向量

for vector_n in range(len(vectors)):

vect = vectors[vector_n]

\#计算给定向量与分配的中心节点之间的欧几里得距离

distances = [sess.run(euclid_dist, feed_dict={

v1: vect, v2: sess.run(centroid)})

for centroid in centroids]

\#下面可以使用集群分配操作，将上述的距离当做输入

assignment = sess.run(cluster_assignment, feed_dict = {

centroid_distances: distances})

\#接下来为每个向量分配合适的值

sess.run(cluster_assigns[vector_n], feed_dict={

assignment_value: assignment})

\#\#最大化的步骤

\#基于上述的期望步骤，计算每个新的中心点的距离从而使集群内的平方和最小

for cluster_n in range(noofclusters):

\#收集所有分配给该集群的向量

assigned_vects = [vectors[i] for i in range(len(vectors))

if sess.run(assignments[i]) == cluster_n]

\#计算新的集群中心点

new_location = sess.run(mean_op, feed_dict={

mean_input: array(assigned_vects)})

\#为每个向量分配合适的中心点

sess.run(cent_assigns[cluster_n], feed_dict={

centroid_value: new_location})

\#返回中心节点和分组

centroids = sess.run(centroids)

assignments = sess.run(assignments)

return centroids, assignments

\#\#\#\#\#\#\#\#\#\#\#\#生成测试数据\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#

sampleNo = 10;\#数据数量

mu =3

\# 二维正态分布

mu = np.array([[1, 5]])

Sigma = np.array([[1, 0.5], [1.5, 3]])

R = cholesky(Sigma)

srcdata= np.dot(np.random.randn(sampleNo, 2), R) + mu

plt.plot(srcdata[:,0],srcdata[:,1],'bo')

\#\#\#\#\#\#\#\#\#\#\#\#kmeans算法计算\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#

k=4

center,result=KMeansCluster(srcdata,k)

print(center)

\#\#\#\#\#\#\#\#\#\#\#\#利用seaborn画图\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#

res={"x":[],"y":[],"kmeans_res":[]}

for i in range(len(result)):

res["x"].append(srcdata[i][0])

res["y"].append(srcdata[i][1])

res["kmeans_res"].append(result[i])

pd_res=pd.DataFrame(res)

sns.lmplot("x","y",data=pd_res,fit_reg=False,size=5,hue="kmeans_res")

plt.show()

运行结果：

[array([-1.78417623, 4.07541895]), array([1.4949894, 5.1860218]),
array([3.00592971, 6.06591892]), array([0.4123759 , 4.90223598])]

![](media/d0316bc210810acf5354de8834ad499f.png)

![D:\\Program Files\\Tencent\\QQ\\809758521\\Image\\C2C\\Image1\\1NI\`4H)R5ABI08[T166BBN0.png](media/5126b82de83f143324feb52002618903.png)

SVM
---

Apriori
-------

EM
--

PageRank
--------

AdaBoost
--------

kNN
---

Naïve Bayes
-----------

CART
----

中级应用
========

JAVA开发
--------

扩展
----

### 深度学习画图神器(TikZ)

<https://blog.csdn.net/zhaoyu106/article/details/53763293>

1、TikZ的官网：内含很多示例代码

<http://www.texample.net/tikz/>

1.  LateX在线编辑工具

<https://www.overleaf.com>

3、TikZ快速入门文档

<http://cremeronline.com/LaTeX/minimaltikz.pdf>

TeXstudio

Geogebra

在MikTeX的官网下载免费的MikTeX编译包（150Mb）并安装。或在ctex.org下载ctex套装(203Mb或1.3Gb)（含MikTeX及WinEdt）

监督学习
========

非监督学习
==========

数据处理与模型调优
==================

NLP
===

语音识别
========

图像识别
========

参考
====

官网：

<https://www.tensorflow.org/>

【好像访问不了】

Tensorflow官方文档中文版（极客学院）：

<http://wiki.jikexueyuan.com/project/tensorflow-zh/>

tensorflow教程——莫烦Python

<https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/>

英文教程：

<http://learningtensorflow.com/>

工具——云算子：

<http://www.yunsuanzi.com/cgi-bin/matrix_multiplication.py>

清华大学镜像源

<https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/>

<https://mirrors.tuna.tsinghua.edu.cn>

镜像源汇总：

<http://www.mamicode.com/info-detail-2279504.html>

tensorflow 1.8下载地址：

<https://pypi.org/project/tensorflow/1.8.0/#files>

TF中文社区——完整教程

<http://www.tensorfly.cn/>

<http://www.tensorfly.cn/tfdoc/tutorials/overview.html>

AI之路

<https://blog.csdn.net/u014380165/article/category/6829229>

干货！从基础到进阶，长文解析微软量子计算概念和算法（上）

<https://www.leiphone.com/news/201806/MJTy0Bt3VlBalOQi.html>

雷锋网：

<https://www.leiphone>.

手把手教你如何用 TensorFlow 实现基于 DNN 的文本分类

<https://www.leiphone.com/news/201704/HE5REPagoVlzEEI0.html>

不是你无法入门自然语言处理（NLP），而是你没找到正确的打开方式

<https://blog.csdn.net/amds123/article/details/72860143>

北风AI工程师课程体系：

<http://www.ibeifeng.com/job_AIpage.html?f_kwid=1413964267&v_kwid=69261677679&v_adid=18129782104&hmsr=com-bdss&hmpl=p3181-ai&hmcu=mk005-ai.tensorflow&hmkw=69261677679_tensorflow%c5%e0%d1%b5&hmci=18129782104&matchtype=1&adposition=cl1&pagenum=1#python-prg>

Tensorflow快速入门1--实现K-Means聚类算法

<https://blog.csdn.net/yhhyhhyhhyhh/article/details/54429034>

我读ResNet

<https://blog.csdn.net/xuanwu_yan/article/details/52495471>

欲想了解更多信息，请扫码入群：

![](media/e32bfa88aaf38b3603284e3858c8ad0c.png)

![](media/cbf5dbb2a8ff5f91601b258a2a6758bc.png)

如果您觉得受益想请鄙人吃个葱油饼，不妨打赏：

![](media/e9a81159056a0bed625fe16e4c3125a0.png)

![](media/08bccfba0ce465d1ebd0cfebea1f80f6.png)
